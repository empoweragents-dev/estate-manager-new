Here is a **clean, complete, developer-ready Replit prompt** describing the **User Roles & Permissions System** you want.

Copyâ€“paste this directly to your developer.

---

# âœ… **FULL DETAILED REPLIT PROMPT â€“ USER ROLES & PERMISSIONS SYSTEM**

## **1. User Types**

The system must support **two roles only**:

### **A. SUPER ADMIN**

* There is **only one** super admin in the application.
* Full access to everything.
* Can create, edit, deactivate, and delete Owners.
* Can access all Owners, all Shops, all Tenants, all Leases, all Reports.
* Can manage all financial entries (rent, expenses, dues, settlements).
* Can edit system settings.
* Can reset owner passwords.

### **B. OWNER**

* Each owner account is created **by the Super Admin only**.
* Owners **must NOT** be able to create other users.
* Owners have restricted access.

---

# âœ… **2. Login Page Functionality**

* Standard login with **email + password**.
* After login, check user role.
* Redirect:

  * Super Admin â†’ **Admin Dashboard**
  * Owner â†’ **Owner Dashboard**

---

# ğŸ“Œ **3. Permissions Logic (VERY IMPORTANT)**

## **A. Super Admin Permissions**

Super Admin can:

* View all Owners
* View all Tenants
* View all Shops
* View all Leases
* View all Transactions
* Add/Edit/Delete Owners
* Add/Edit/Delete Shops
* Add/Edit/Delete Tenants
* Add/Edit/Delete Leases
* Add/Edit/Delete Expenses
* Generate All Reports
* Access EVERYTHING without restriction

Super Admin = **100% access** across entire system.

---

## **B. Owner Permissions**

Owners should only see:

* Their **own shops**
* Their **own tenants**
* Their **own leases**
* Their **own rent collections**
* Their **own expenses**
* Their **own reports**

Owners must NOT see:

* Other owners
* Other ownersâ€™ tenants
* Other shops
* Other transactions
* Any admin configuration settings

Owners can:

* View
* Download reports
* See outstanding dues
* See tenant financial history
* View lease details

Owners cannot:

* Create new owners
* Modify other ownersâ€™ data
* Delete system data that is not theirs
* Access Super Admin dashboard
* Modify system-level configurations

---

# ğŸ“Œ **4. Super Admin Creates Owner Accounts**

The Super Admin will have a page:

### **Create Owner Account Form**

Fields required:

1. Owner Name
2. Owner Email
3. Owner Phone
4. Password (super admin sets this)
5. Owner Profile Information (optional)

After creating the owner:

* Owner receives login credentials
* Owner can log in and see ONLY their area

---

# ğŸ“Œ **5. Database Changes**

### Add fields:

* `role` (values: â€œsuper_adminâ€, â€œownerâ€)
* `owner_id` (foreign key for owner-access restrictions)

### For shops:

* `owner_id` required.

### For tenants:

* `owner_id` required.

### For leases:

* `owner_id` required.

### For rent payments, expenses:

* `owner_id` required.

This ensures all filtering is backend-protected.

---

# ğŸ“Œ **6. Backend Access Control (VERY IMPORTANT)**

### Add middleware / guard:

* If `role = owner`, restrict queries with:

```
WHERE owner_id = current_user.owner_id
```

* If `role = super_admin`, no filter applied.

This prevents data leaks or unauthorized access.

---

# ğŸ“Œ **7. UI/UX Requirements**

### A. Super Admin Dashboard

Shows:

* Total owners
* Total shops
* Total tenants
* Full financial summary
* Owner management buttons
* All reports

### B. Owner Dashboard

Shows:

* Their shop count
* Their tenants list
* Their total rent due
* Their reports only

### C. Navigation Controls

Show menu items according to permissions.

Owners should NOT see:

* Owner creation
* Settings
* System master data
* Other owners

---

# ğŸ“Œ **8. Security**

* Use hashed passwords
* Validate email uniqueness
* All owner-related API routes must check `owner_id`
* Prevent front-end manipulation
* Protect API endpoints with role-based access

---

# ğŸ“Œ **9. Testing Requirements**

Test the following scenarios:

### Testing Super Admin

* Login â†’ full access
* Create owner
* Edit/delete owner
* Add shops & tenants under any owner
* Generate full system reports

### Testing Owner

* Login â†’ limited dashboard
* Sees only their shops
* Sees only their tenants
* Cannot open URLs of another owner (should block access)
* Generate only their own reports

---

# âœ… **This is the full, detailed prompt to build the complete permission system.**

If you want, I can also prepare:

ğŸ“Œ Database schema
ğŸ“Œ API routes for roles
ğŸ“Œ Middleware sample code
ğŸ“Œ UI wireframes
ğŸ“Œ Owner dashboard layout

Just tell me!
