import{c as y,au as b,r as t,bg as N,j as e,B as v,C as w,f as S,i as k,aY as C,a as L,b as B,ah as o,ax as E,I as m,m as M}from"./index-BFK3BxsS.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function P(){const[,x]=b(),[l,h]=t.useState(""),[i,p]=t.useState(""),[c,r]=t.useState(""),[a,d]=t.useState(!1),g=N(),j=async s=>{s.preventDefault(),r(""),d(!0);try{const n=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:i}),credentials:"include"}),f=await n.json();if(!n.ok){r(f.message||"Login failed");return}g.invalidateQueries({queryKey:["/api/auth/user"]}),x("/")}catch{r("An error occurred. Please try again.")}finally{d(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted flex flex-col",children:[e.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsx("div",{className:"container mx-auto px-4 py-4 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary flex items-center justify-center",children:e.jsx(v,{className:"h-6 w-6 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-lg",children:"Rental Management System"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Haji Ahsan Ullah Bhuiyan Market & Subedari"})]})]})})}),e.jsx("main",{className:"flex-1 container mx-auto px-4 py-8 flex items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs(w,{className:"shadow-lg",children:[e.jsxs(S,{className:"text-center pb-2",children:[e.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:e.jsx(u,{className:"h-8 w-8 text-primary"})}),e.jsx(k,{className:"text-2xl",children:"Welcome Back"}),e.jsx(C,{children:"Sign in to access the Rental Management System"})]}),e.jsx(L,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-destructive/10 text-destructive rounded-md text-sm",children:[e.jsx(B,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"username",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(m,{id:"username",type:"text",placeholder:"Enter your username",value:l,onChange:s=>h(s.target.value),className:"pl-10",required:!0,disabled:a})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(m,{id:"password",type:"password",placeholder:"Enter your password",value:i,onChange:s=>p(s.target.value),className:"pl-10",required:!0,disabled:a})]})]}),e.jsx(M,{type:"submit",className:"w-full",size:"lg",disabled:a,children:a?"Signing in...":"Sign In"})]})})]}),e.jsx("p",{className:"text-center text-sm text-muted-foreground mt-6",children:"Contact your administrator if you need access"})]})}),e.jsx("footer",{className:"border-t py-6 text-center text-sm text-muted-foreground",children:e.jsx("p",{children:"Haji Ahsan Ullah Bhuiyan Market & Subedari - Estate Management System"})})]})}export{P as default};
