import{c as ke,R as h,d as ge,r as Pe,u as Se,e as De,j as t,C as P,f as T,S as _,a as S,g as se,B as Ce,h as Ee,i as W,k as ie,L as H,l as le,m as oe,U as Le,n as _e}from"./index-BFK3BxsS.js";import{T as be}from"./trending-up-B47LhHna.js";import{f as z,L as X,m as q,i as M,C as J,A as Re,a as I,b as ce,c as Te,d as de,h as Be,e as $e,G as ze,g as ue,j as me,k as Z,D as Ie,u as Me,l as Ve,X as ee,Y as te,n as Fe,R as he,o as fe,T as xe,B as Ke,p as pe}from"./BarChart-umHn-Lvu.js";import{T as We}from"./triangle-alert-Di3FTKlq.js";import{T as Xe}from"./trending-down-C96_eHkR.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var Ye=["layout","type","stroke","connectNulls","isRange","ref"],He=["key"],Ne;function V(e){"@babel/helpers - typeof";return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},V(e)}function Ae(e,r){if(e==null)return{};var s=qe(e,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function qe(e,r){if(e==null)return{};var s={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;s[n]=e[n]}return s}function B(){return B=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},B.apply(this,arguments)}function ye(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,n)}return s}function L(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ye(Object(s),!0).forEach(function(n){O(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ye(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Ge(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function je(e,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oe(n.key),n)}}function Ue(e,r,s){return r&&je(e.prototype,r),s&&je(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qe(e,r,s){return r=Q(r),Je(e,we()?Reflect.construct(r,s||[],Q(e).constructor):r.apply(e,s))}function Je(e,r){if(r&&(V(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ze(e)}function Ze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(we=function(){return!!e})()}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Q(e)}function et(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&ae(e,r)}function ae(e,r){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ae(e,r)}function O(e,r,s){return r=Oe(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Oe(e){var r=tt(e,"string");return V(r)=="symbol"?r:r+""}function tt(e,r){if(V(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,r||"default");if(V(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var D=function(e){function r(){var s;Ge(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=Qe(this,r,[].concat(a)),O(s,"state",{isAnimationFinished:!0}),O(s,"id",Me("recharts-area-")),O(s,"handleAnimationEnd",function(){var l=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Z(l)&&l()}),O(s,"handleAnimationStart",function(){var l=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Z(l)&&l()}),s}return et(r,e),Ue(r,[{key:"renderDots",value:function(n,a,i){var l=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(l&&!o)return null;var d=this.props,c=d.dot,m=d.points,u=d.dataKey,f=z(this.props,!1),g=z(c,!0),b=m.map(function(v,w){var y=L(L(L({key:"dot-".concat(w),r:3},f),g),{},{index:w,cx:v.x,cy:v.y,dataKey:u,value:v.value,payload:v.payload,points:m});return r.renderDotItem(c,y)}),N={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return h.createElement(X,B({className:"recharts-area-dots"},N),b)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,l=a.points,o=a.strokeWidth,d=l[0].x,c=l[l.length-1].x,m=n*Math.abs(d-c),u=q(l.map(function(f){return f.y||0}));return M(i)&&typeof i=="number"?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(q(i.map(function(f){return f.y||0})),u)),M(u)?h.createElement("rect",{x:d<c?d:d-m,y:0,width:m,height:Math.floor(u+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,l=a.points,o=a.strokeWidth,d=l[0].y,c=l[l.length-1].y,m=n*Math.abs(d-c),u=q(l.map(function(f){return f.x||0}));return M(i)&&typeof i=="number"?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(q(i.map(function(f){return f.x||0})),u)),M(u)?h.createElement("rect",{x:0,y:d<c?d:d-m,width:u+(o?parseInt("".concat(o),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,l){var o=this.props,d=o.layout,c=o.type,m=o.stroke,u=o.connectNulls,f=o.isRange;o.ref;var g=Ae(o,Ye);return h.createElement(X,{clipPath:i?"url(#clipPath-".concat(l,")"):null},h.createElement(J,B({},z(g,!0),{points:n,connectNulls:u,type:c,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),m!=="none"&&h.createElement(J,B({},z(this.props,!1),{className:"recharts-area-curve",layout:d,type:c,connectNulls:u,fill:"none",points:n})),m!=="none"&&f&&h.createElement(J,B({},z(this.props,!1),{className:"recharts-area-curve",layout:d,type:c,connectNulls:u,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,l=this.props,o=l.points,d=l.baseLine,c=l.isAnimationActive,m=l.animationBegin,u=l.animationDuration,f=l.animationEasing,g=l.animationId,b=this.state,N=b.prevPoints,v=b.prevBaseLine;return h.createElement(Re,{begin:m,duration:u,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var y=w.t;if(N){var C=N.length/o.length,x=o.map(function(A,$){var R=Math.floor($*C);if(N[R]){var E=N[R],F=I(E.x,A.x),K=I(E.y,A.y);return L(L({},A),{},{x:F(y),y:K(y)})}return A}),p;if(M(d)&&typeof d=="number"){var j=I(v,d);p=j(y)}else if(ce(d)||Te(d)){var k=I(v,0);p=k(y)}else p=d.map(function(A,$){var R=Math.floor($*C);if(v[R]){var E=v[R],F=I(E.x,A.x),K=I(E.y,A.y);return L(L({},A),{},{x:F(y),y:K(y)})}return A});return i.renderAreaStatically(x,p,n,a)}return h.createElement(X,null,h.createElement("defs",null,h.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),h.createElement(X,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(o,d,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,l=i.points,o=i.baseLine,d=i.isAnimationActive,c=this.state,m=c.prevPoints,u=c.prevBaseLine,f=c.totalLength;return d&&l&&l.length&&(!m&&f>0||!de(m,l)||!de(u,o))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(l,o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,l=a.dot,o=a.points,d=a.className,c=a.top,m=a.left,u=a.xAxis,f=a.yAxis,g=a.width,b=a.height,N=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=o.length===1,C=ge("recharts-area",d),x=u&&u.allowDataOverflow,p=f&&f.allowDataOverflow,j=x||p,k=ce(v)?this.id:v,A=(n=z(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=A.r,R=$===void 0?3:$,E=A.strokeWidth,F=E===void 0?2:E,K=Be(l)?l:{},re=K.clipDot,ne=re===void 0?!0:re,Y=R*2+F;return h.createElement(X,{className:C},x||p?h.createElement("defs",null,h.createElement("clipPath",{id:"clipPath-".concat(k)},h.createElement("rect",{x:x?m:m-g/2,y:p?c:c-b/2,width:x?g:g*2,height:p?b:b*2})),!ne&&h.createElement("clipPath",{id:"clipPath-dots-".concat(k)},h.createElement("rect",{x:m-Y/2,y:c-Y/2,width:g+Y,height:b+Y}))):null,y?null:this.renderArea(j,k),(l||y)&&this.renderDots(j,ne,k),(!N||w)&&$e.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(Pe.PureComponent);Ne=D;O(D,"displayName","Area");O(D,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ze.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});O(D,"getBaseValue",function(e,r,s,n){var a=e.layout,i=e.baseValue,l=r.props.baseValue,o=l??i;if(M(o)&&typeof o=="number")return o;var d=a==="horizontal"?n:s,c=d.scale.domain();if(d.type==="number"){var m=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return o==="dataMin"?u:o==="dataMax"||m<0?m:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});O(D,"getComposedData",function(e){var r=e.props,s=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,o=e.bandSize,d=e.dataKey,c=e.stackedData,m=e.dataStartIndex,u=e.displayedData,f=e.offset,g=r.layout,b=c&&c.length,N=Ne.getBaseValue(r,s,n,a),v=g==="horizontal",w=!1,y=u.map(function(x,p){var j;b?j=c[m+p]:(j=ue(x,d),Array.isArray(j)?w=!0:j=[N,j]);var k=j[1]==null||b&&ue(x,d)==null;return v?{x:me({axis:n,ticks:i,bandSize:o,entry:x,index:p}),y:k?null:a.scale(j[1]),value:j,payload:x}:{x:k?null:n.scale(j[1]),y:me({axis:a,ticks:l,bandSize:o,entry:x,index:p}),value:j,payload:x}}),C;return b||w?C=y.map(function(x){var p=Array.isArray(x.value)?x.value[0]:null;return v?{x:x.x,y:p!=null&&x.y!=null?a.scale(p):null}:{x:p!=null?n.scale(p):null,y:x.y}}):C=v?a.scale(N):n.scale(N),L({points:y,baseLine:C,layout:g,isRange:w},f)});O(D,"renderDotItem",function(e,r){var s;if(h.isValidElement(e))s=h.cloneElement(e,r);else if(Z(e))s=e(r);else{var n=ge("recharts-area-dot",typeof e!="boolean"?e.className:""),a=r.key,i=Ae(r,He);s=h.createElement(Ie,B({},i,{key:a,className:n}))}return s});var at=Ve({chartName:"AreaChart",GraphicalChild:D,axisComponents:[{axisType:"xAxis",AxisComp:ee},{axisType:"yAxis",AxisComp:te}],formatAxisMap:Fe});function G({title:e,value:r,subtitle:s,icon:n,trend:a,trendUp:i}){return t.jsx(P,{className:"overflow-visible",children:t.jsx(S,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),t.jsx("p",{className:"text-2xl font-semibold tabular-nums mt-1 truncate","data-testid":`stat-${e.toLowerCase().replace(/\s+/g,"-")}`,children:r}),s&&t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s}),a&&t.jsxs("div",{className:`flex items-center gap-1 mt-2 text-sm ${i?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[i?t.jsx(be,{className:"h-4 w-4"}):t.jsx(Xe,{className:"h-4 w-4"}),t.jsx("span",{children:a})]})]}),t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-lg bg-primary/10 text-primary",children:t.jsx(n,{className:"h-6 w-6"})})]})})})}function U(){return t.jsx(P,{children:t.jsx(S,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(_,{className:"h-4 w-24"}),t.jsx(_,{className:"h-8 w-32 mt-2"}),t.jsx(_,{className:"h-4 w-20 mt-2"})]}),t.jsx(_,{className:"h-12 w-12 rounded-lg"})]})})})}function ot(){var n;Se();const{data:e,isLoading:r}=De({queryKey:["/api/dashboard/stats"]});if(r)return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Overview of your property management"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(U,{}),t.jsx(U,{}),t.jsx(U,{}),t.jsx(U,{})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(P,{children:[t.jsx(T,{children:t.jsx(_,{className:"h-6 w-40"})}),t.jsx(S,{children:t.jsx(_,{className:"h-64 w-full"})})]}),t.jsxs(P,{children:[t.jsx(T,{children:t.jsx(_,{className:"h-6 w-40"})}),t.jsx(S,{children:t.jsx(_,{className:"h-64 w-full"})})]})]})]});const s=a=>_e(a);return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Overview of your property management"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(G,{title:"Tenant Outstanding Dues",value:s((e==null?void 0:e.totalDues)??0),icon:se,subtitle:"Total owed by tenants"}),t.jsx(G,{title:"Monthly Collection",value:s((e==null?void 0:e.monthlyCollection)??0),icon:be,subtitle:"This month",trend:"+12% vs last month",trendUp:!0}),t.jsx(G,{title:"Occupancy Rate",value:`${((n=e==null?void 0:e.occupancyRate)==null?void 0:n.toFixed(1))??0}%`,icon:Ce,subtitle:`${(e==null?void 0:e.occupiedShops)??0} of ${(e==null?void 0:e.totalShops)??0} shops`}),t.jsx(G,{title:"Vacant Shops",value:(e==null?void 0:e.vacantShops)??0,icon:Ee,subtitle:"Available for lease"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(P,{children:[t.jsxs(T,{className:"flex flex-row items-center justify-between gap-2",children:[t.jsx(W,{className:"text-base font-semibold",children:"Collection Trend"}),t.jsx(ie,{variant:"secondary",className:"text-xs",children:"Last 6 months"})]}),t.jsx(S,{children:t.jsx("div",{className:"h-64",children:t.jsx(he,{width:"100%",height:"100%",children:t.jsxs(at,{data:(e==null?void 0:e.monthlyTrend)??[],margin:{top:10,right:10,left:0,bottom:0},children:[t.jsx(fe,{strokeDasharray:"3 3",className:"stroke-muted"}),t.jsx(ee,{dataKey:"month",tick:{fontSize:12},className:"text-muted-foreground"}),t.jsx(te,{tick:{fontSize:12},className:"text-muted-foreground",tickFormatter:a=>`${(a/1e3).toFixed(0)}k`}),t.jsx(xe,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"0.5rem"},formatter:a=>[s(a),""]}),t.jsx(D,{type:"monotone",dataKey:"collected",stackId:"1",stroke:"hsl(var(--chart-1))",fill:"hsl(var(--chart-1))",fillOpacity:.3,name:"Collected"}),t.jsx(D,{type:"monotone",dataKey:"expected",stackId:"2",stroke:"hsl(var(--chart-2))",fill:"hsl(var(--chart-2))",fillOpacity:.1,name:"Expected"})]})})})})]}),t.jsxs(P,{children:[t.jsx(T,{className:"flex flex-row items-center justify-between gap-2",children:t.jsx(W,{className:"text-base font-semibold",children:"Occupancy by Floor"})}),t.jsx(S,{children:t.jsx("div",{className:"h-64",children:t.jsx(he,{width:"100%",height:"100%",children:t.jsxs(Ke,{data:(e==null?void 0:e.floorOccupancy)??[],layout:"vertical",margin:{top:10,right:10,left:40,bottom:0},children:[t.jsx(fe,{strokeDasharray:"3 3",className:"stroke-muted",horizontal:!1}),t.jsx(ee,{type:"number",tick:{fontSize:12},className:"text-muted-foreground"}),t.jsx(te,{dataKey:"floor",type:"category",tick:{fontSize:12},className:"text-muted-foreground"}),t.jsx(xe,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"0.5rem"}}),t.jsx(pe,{dataKey:"occupied",fill:"hsl(var(--chart-1))",name:"Occupied",radius:[0,4,4,0]}),t.jsx(pe,{dataKey:"vacant",fill:"hsl(var(--chart-3))",name:"Vacant",radius:[0,4,4,0]})]})})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs(P,{children:[t.jsxs(T,{className:"flex flex-row items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(We,{className:"h-4 w-4 text-amber-500"}),t.jsx(W,{className:"text-base font-semibold",children:"Expiring Leases"})]}),t.jsx(ie,{variant:"secondary",className:"text-xs",children:"Next 30 days"})]}),t.jsx(S,{children:e!=null&&e.expiringLeases&&e.expiringLeases.length>0?t.jsx("div",{className:"space-y-3",children:e.expiringLeases.slice(0,5).map(a=>{var i,l;return t.jsx(H,{href:`/leases/${a.id}`,children:t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md hover-elevate cursor-pointer bg-muted/50","data-testid":`expiring-lease-${a.id}`,children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"font-medium truncate",children:(i=a.tenant)==null?void 0:i.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Shop ",(l=a.shop)==null?void 0:l.shopNumber]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(le,{className:"h-4 w-4 text-amber-500"}),t.jsx("span",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:new Date(a.endDate).toLocaleDateString()})]})]})},a.id)})}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[t.jsx(le,{className:"h-8 w-8 text-muted-foreground/50 mb-2"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"No leases expiring soon"})]})})]}),t.jsxs(P,{children:[t.jsxs(T,{className:"flex flex-row items-center justify-between gap-2",children:[t.jsx(W,{className:"text-base font-semibold",children:"Top Outstanding Dues"}),t.jsx(H,{href:"/tenants",children:t.jsxs(oe,{variant:"ghost",size:"sm",className:"h-7 text-xs","data-testid":"link-view-all-tenants",children:["View All ",t.jsx(ve,{className:"h-3 w-3 ml-1"})]})})]}),t.jsx(S,{children:e!=null&&e.topDebtors&&e.topDebtors.length>0?t.jsx("div",{className:"space-y-3",children:e.topDebtors.slice(0,5).map((a,i)=>t.jsx(H,{href:`/tenants/${a.id}`,children:t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md hover-elevate cursor-pointer bg-muted/50","data-testid":`top-debtor-${a.id}`,children:[t.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[t.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10 text-primary text-sm font-semibold",children:i+1}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"font-medium truncate",children:a.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.phone})]})]}),t.jsx("span",{className:"text-sm font-semibold text-destructive tabular-nums",children:s(a.currentDue)})]})},a.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[t.jsx(Le,{className:"h-8 w-8 text-muted-foreground/50 mb-2"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"No outstanding dues"})]})})]}),t.jsxs(P,{children:[t.jsxs(T,{className:"flex flex-row items-center justify-between gap-2",children:[t.jsx(W,{className:"text-base font-semibold",children:"Recent Payments"}),t.jsx(H,{href:"/payments",children:t.jsxs(oe,{variant:"ghost",size:"sm",className:"h-7 text-xs","data-testid":"link-view-all-payments",children:["View All ",t.jsx(ve,{className:"h-3 w-3 ml-1"})]})})]}),t.jsx(S,{children:e!=null&&e.recentPayments&&e.recentPayments.length>0?t.jsx("div",{className:"space-y-3",children:e.recentPayments.slice(0,5).map(a=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-muted/50","data-testid":`recent-payment-${a.id}`,children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"font-medium truncate",children:a.tenantName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.date})]}),t.jsxs("span",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400 tabular-nums",children:["+",s(parseFloat(a.amount))]})]},a.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[t.jsx(se,{className:"h-8 w-8 text-muted-foreground/50 mb-2"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent payments"})]})})]})]})]})}export{ot as default};
